// Test Universal - Omni Cross-Platform Validation Project
// Contains: @struct, @flow, @ui components

import "std/core.omni";

// ========================
// DATA LAYER: @struct
// ========================
struct User {
    id: i64
    name: string
    email: string
}

// ========================
// LOGIC LAYER: @flow
// ========================
fn saveUser(name: string, email: string) -> bool {
    print("Saving user: " + name + " <" + email + ">");
    return true;
}

fn deleteUser(id: i64) -> bool {
    print("Deleting user with id: " + to_string(id));
    return true;
}

fn listUsers() {
    print("=== User List ===");
    print("1. Alice (alice@example.com)");
    print("2. Bob (bob@example.com)");
    print("3. Charlie (charlie@example.com)");
}

fn updateUser(id: i64, name: string, email: string) -> bool {
    print("Updating user " + to_string(id) + ": " + name);
    return true;
}

// ========================
// MAIN ENTRY POINT
// ========================
fn main() {
    print("╔════════════════════════════════════════╗");
    print("║   OMNI - Universal CRUD Test           ║");
    print("╚════════════════════════════════════════╝");
    print("");
    
    // List existing users
    listUsers();
    print("");
    
    // Create new user
    print("--- Creating User ---");
    saveUser("David", "david@example.com");
    print("");
    
    // Update user
    print("--- Updating User ---");
    updateUser(1, "Alice Updated", "alice.new@example.com");
    print("");
    
    // Delete user
    print("--- Deleting User ---");
    deleteUser(2);
    print("");
    
    print("✅ Universal CRUD Test Complete!");
}
