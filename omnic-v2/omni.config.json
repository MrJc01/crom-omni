{
  "project": {
    "name": "omnic-v2",
    "version": "0.1.0"
  },
  "targets": {
    "server": {
      "format": "python",
      "output": "dist/python",
      "source": "src/server.omni"
    },
    "client": {
      "format": "js",
      "output": "dist/js",
      "source": "src/client.omni"
    }
  },
  "shared": ["src/shared"],
  "nodes": {
    "app-monolith": {
      "host": "localhost",
      "port": 3000,
      "capsules": ["Pedidos", "Estoque", "Pagamentos"]
    },
    "backend-orders": {
      "host": "orders-api",
      "port": 3001,
      "capsules": ["Pedidos", "Estoque"]
    },
    "backend-payments": {
      "host": "payments-api",
      "port": 3002,
      "capsules": ["Pagamentos"]
    }
  },
  "topology": {
    "PaymentGateway": {
      "host": "payment-api",
      "port": 3001,
      "protocol": "http"
    }
  },
  "databases": {
    "main_db": {
      "driver": "sqlite",
      "path": "./data/app.db"
    }
  },
  "docker": {
    "server": {
      "base": "python:3.11-slim",
      "port": 3001
    },
    "client": {
      "base": "node:18-alpine",
      "port": 3000
    }
  }
}
