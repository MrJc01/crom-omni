{
  "name": "yii2",
  "version": "1.0.0",
  "type": "adapter",
  "description": "Yii2 PHP Framework Adapter",
  "language": "php",
  
  "ui_templates": {
    "page": "<?php\n// Generated by Omni Compiler\n\nuse yii\\web\\View;\n\n/* @var $this View */\n$this->title = '{title}';\n?>\n\n<div class=\"container\">\n    {content}\n</div>",
    
    "widget": "<?php\n\nnamespace app\\widgets;\n\nuse yii\\base\\Widget;\n\nclass {name}Widget extends Widget\n{\n    public function run()\n    {\n        return $this->render('{name}', [\n            {props}\n        ]);\n    }\n}",
    
    "button": "<?= \\yii\\helpers\\Html::submitButton('{label}', ['class' => 'btn btn-primary']) ?>",
    
    "list": "<?php foreach({items} as $item): ?>\n    <div class=\"item\">\n        {renderItem}\n    </div>\n<?php endforeach; ?>",
    
    "form": "<?php $form = ActiveForm::begin(['id' => '{id}']); ?>\n    {fields}\n<?php ActiveForm::end(); ?>",
    
    "input": "<?= $form->field($model, '{name}')->textInput() ?>"
  },
  
  "server_templates": {
    "controller": "<?php\n// Generated by Omni Compiler\n\nnamespace app\\controllers;\n\nuse yii\\web\\Controller;\nuse yii\\web\\Response;\n\nclass {name}Controller extends Controller\n{\n    {methods}\n}",
    
    "action": "public function action{name}()\n{\n    {body}\n    return $this->asJson(['success' => true, 'data' => $result]);\n}",
    
    "route": "'{method} {path}' => '{controller}/{action}'"
  },
  
  "entity_templates": {
    "model": "<?php\n\nnamespace app\\models;\n\nuse yii\\db\\ActiveRecord;\n\nclass {name} extends ActiveRecord\n{\n    public static function tableName()\n    {\n        return '{{%{table}}}';\n    }\n\n    public function rules()\n    {\n        return [\n            {rules}\n        ];\n    }\n}",
    
    "migration": "<?php\n\nuse yii\\db\\Migration;\n\nclass m{timestamp}_create_{table}_table extends Migration\n{\n    public function safeUp()\n    {\n        $this->createTable('{{%{table}}}', [\n            'id' => $this->primaryKey(),\n            {columns}\n            'created_at' => $this->timestamp()->defaultExpression('CURRENT_TIMESTAMP'),\n        ]);\n    }\n\n    public function safeDown()\n    {\n        $this->dropTable('{{%{table}}}');\n    }\n}"
  },
  
  "structure": {
    "controllers/": "Controller classes",
    "models/": "ActiveRecord models",
    "views/": "View templates",
    "migrations/": "Database migrations",
    "widgets/": "Reusable widgets"
  },
  
  "type_map": {
    "i64": "int",
    "string": "string",
    "bool": "bool",
    "f64": "float",
    "any": "mixed"
  }
}
