{
  "name": "c_native",
  "extension": ".c",
  "description": "Native C for GCC/Clang binary compilation",
  "comment_single": "//",
  "comment_multi_start": "/*",
  "comment_multi_end": "*/",
  "indent": "    ",
  "statement_end": ";",
  "block_start": "{",
  "block_end": "}",
  
  "program_header": "// Generated by Omni Compiler - Native Binary Target\n// Compile: gcc -o program output.c\n\n#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n#include <stdbool.h>\n\n// Omni Runtime\ntypedef struct { char* data; size_t len; } OmniString;\n#define print(x) printf(\"%s\\n\", (x))\n#define i64 long long\n#define f64 double\n\n",
  
  "templates": {
    "fn_decl": "{return_type} {name}({params}) {\n{body}\n}",
    "fn_decl_void": "void {name}({params}) {\n{body}\n}",
    "fn_main": "int main(int argc, char* argv[]) {\n{body}\n    return 0;\n}",
    
    "let_decl": "{type} {name} = {value};",
    "let_decl_infer": "auto {name} = {value};",
    "const_decl": "const {type} {name} = {value};",
    
    "if_stmt": "if ({condition}) {\n{consequence}\n}",
    "if_else_stmt": "if ({condition}) {\n{consequence}\n} else {\n{alternative}\n}",
    "while_stmt": "while ({condition}) {\n{body}\n}",
    "for_stmt": "for ({init}; {condition}; {update}) {\n{body}\n}",
    "switch_stmt": "switch ({expr}) {\n{cases}\n}",
    "case_stmt": "case {value}:\n    {body}\n    break;",
    "default_stmt": "default:\n    {body}\n    break;",
    
    "return_stmt": "return {value};",
    "return_void": "return;",
    
    "struct_decl": "typedef struct {\n{fields}\n} {name};",
    "struct_field": "    {type} {name};",
    "struct_init": "({name}){ {fields} }",
    
    "call_expr": "{callee}({args})",
    "binary_expr": "({left} {op} {right})",
    "unary_expr": "({op}{operand})",
    "member_access": "{object}.{member}",
    "pointer_access": "{object}->{member}",
    "index_access": "{object}[{index}]",
    "address_of": "&{expr}",
    "dereference": "*{expr}",
    
    "array_decl": "{type} {name}[{size}];",
    "array_init": "{type} {name}[] = { {elements} };",
    
    "string_literal": "\"{value}\"",
    "char_literal": "'{value}'",
    "number_literal": "{value}",
    "bool_true": "true",
    "bool_false": "false",
    "null": "NULL",
    
    "include": "#include <{header}>",
    "include_local": "#include \"{header}\"",
    "define": "#define {name} {value}",
    "ifdef": "#ifdef {name}",
    "endif": "#endif",
    
    "malloc": "({type}*)malloc(sizeof({type}))",
    "malloc_array": "({type}*)malloc({size} * sizeof({type}))",
    "free": "free({ptr})",
    
    "comment": "// {text}",
    "block_comment": "/* {text} */"
  },
  
  "type_map": {
    "i8": "int8_t",
    "i16": "int16_t",
    "i32": "int32_t",
    "i64": "int64_t",
    "u8": "uint8_t",
    "u16": "uint16_t",
    "u32": "uint32_t",
    "u64": "uint64_t",
    "f32": "float",
    "f64": "double",
    "string": "char*",
    "bool": "bool",
    "void": "void",
    "any": "void*"
  },
  
  "operators": {
    "add": "+",
    "sub": "-",
    "mul": "*",
    "div": "/",
    "mod": "%",
    "eq": "==",
    "neq": "!=",
    "lt": "<",
    "lte": "<=",
    "gt": ">",
    "gte": ">=",
    "and": "&&",
    "or": "||",
    "not": "!",
    "bitand": "&",
    "bitor": "|",
    "bitxor": "^",
    "bitnot": "~",
    "shl": "<<",
    "shr": ">>"
  },
  
  "compile_command": "gcc -O2 -o {output} {input}",
  "debug_command": "gcc -g -o {output} {input}",
  "run_command": "./{output}"
}
